{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.js","components/Info.jsx","components/Drawer/index.js","components/Card/index.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Index","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","idLoading","setIsloading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","isLoading","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","setIsLoading","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","Drawer","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac86d501.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__ytZHx\",\"overlayVisible\":\"Drawer_overlayVisible__OzGyW\",\"drawer\":\"Drawer_drawer__2862M\",\"items\":\"Drawer_items__3Ajsp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__2p3Mq\",\"favorite\":\"Card_favorite__2hoQn\"};","import React from 'react';\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {useCart} from \"../hooks/useCart\";\r\n\r\nfunction Header(props) {\r\n    const { totalPrice } = useCart();\r\n\r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n            <Link to=\"/\" >\r\n                <div className=\"d-flex align-center\">\r\n                    <img width={40} height={40} src=\"img/logo.png\" alt=\"Logotype\"/>\r\n                    <div>\r\n                        <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n                        <p className=\"opacity-5\">Магазин лучших кроссовок</p>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            <ul className=\"d-flex\">\r\n                <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n                    <img width={18} height={18} src=\"img/cart.svg\" alt=\"Cart\"/>\r\n                    <span>{totalPrice} руб.</span>\r\n                </li>\r\n                <li className=\"mr-20 cu-p\">\r\n                    <Link to=\"/favorites\" >\r\n                        <img width={18} height={18} src=\"img/heart.svg\" alt=\"Bookmark\"/>\r\n                    </Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/orders\" >\r\n                        <img width={18} height={18} src=\"img/user.svg\" alt=\"User\"/>\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport AppContext from '../context';\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"Empty\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenButton\">\r\n        <img src=\"img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Info from '../Info';\r\nimport { useCart } from '../../hooks/useCart'\r\n\r\nimport styles from './Drawer.module.scss';\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Index({onClose, onRemove, items = [], opened}) {\r\n    const { cartItems, setCartItems, totalPrice } = useCart();\r\n    const [orderId, setOrderId] = React.useState(null);\r\n    const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n    const [idLoading, setIsloading] = React.useState(false);\r\n\r\n    const onClickOrder = async () => {\r\n        try {\r\n            setIsloading(true);\r\n            const {data} = await axios.post('https://60fd97bc1fa9e90017c70f0b.mockapi.io/orders', {\r\n                items: cartItems,\r\n            });\r\n            setOrderId(data.id);\r\n            setIsOrderComplete(true);\r\n            setCartItems([]);\r\n\r\n            for (let i = 0; i < cartItems.length; i++) {\r\n                const item = cartItems[i];\r\n                await axios.delete('https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart/' + item.id);\r\n                await delay(1000);\r\n            }\r\n            //костыль задержка чтобы мокапи не блочил\r\n        } catch (error) {\r\n            alert('Ошибка при создании заказа');\r\n        }\r\n        setIsloading(false);\r\n    };\r\n\r\n    return (\r\n        <div className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}>\r\n            <div className={styles.drawer}>\r\n                <h2 className=\"d-flex justify-between mb-30\">\r\n                    Корзина <img onClick={onClose} className=\"cu-p\" src=\"/img/btn-remove.svg\" alt=\"Close\"/>\r\n                </h2>\r\n\r\n                {items.length > 0 ? (\r\n                    <div className=\"d-flex flex-column flex\">\r\n                        <div className=\"items flex\">\r\n                            {items.map((obj) => (\r\n                                <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n                                    <div\r\n                                        style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                                        className=\"cartItemImg\"></div>\r\n\r\n                                    <div className=\"mr-20 flex\">\r\n                                        <p className=\"mb-5\">{obj.title}</p>\r\n                                        <b>{obj.price} руб.</b>\r\n                                    </div>\r\n                                    <img\r\n                                        onClick={() => onRemove(obj.id)}\r\n                                        className=\"removeBtn\"\r\n                                        src=\"/img/btn-remove.svg\"\r\n                                        alt=\"Remove\"\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"cartTotalBlock\">\r\n                            <ul>\r\n                                <li>\r\n                                    <span>Итого:</span>\r\n                                    <div></div>\r\n                                    <b>{totalPrice} руб. </b>\r\n                                </li>\r\n                                <li>\r\n                                    <span>Налог 5%:</span>\r\n                                    <div></div>\r\n                                    <b>{(totalPrice / 100) * 5} руб. </b>\r\n                                </li>\r\n                            </ul>\r\n                            <button disabled={idLoading} onClick={onClickOrder} className=\"greenButton\">\r\n                                Оформить заказ <img src=\"/img/arrow.svg\" alt=\"Arrow\"/>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <Info\r\n                        title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пуста\"}\r\n                        description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьеру` : \"Добавьте хоть что-то\"}\r\n                        image={isOrderComplete ? \"./img/complete-order.jpg\" : \"/img/empty-cart.jpg\"}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Index;\r\n","import React from 'react';\r\nimport styles from './Card.module.scss';\r\nimport ContentLoader from \"react-content-loader\"\r\n\r\nimport AppContext from \"../../context\";\r\n\r\nfunction Card({ id, title, imageUrl, price, onFavorite, onPlus, favorited = false, loading = false }) {\r\n    const { isItemAdded } = React.useContext(AppContext);\r\n    const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n    const obj = { id, parentId: id, title, imageUrl, price };\r\n\r\n    const onClickPlus = () => {\r\n        onPlus(obj);\r\n    };\r\n\r\n    const onClickFavorite = () => {\r\n        onFavorite(obj);\r\n        setIsFavorite(!isFavorite);\r\n    };\r\n\r\n    return (\r\n        <div className={styles.card}>\r\n            {\r\n                loading ? <ContentLoader\r\n                    speed={0}\r\n                    width={160}\r\n                    height={250}\r\n                    viewBox=\"0 0 150 265\"\r\n                    backgroundColor=\"#f3f3f3\"\r\n                    foregroundColor=\"#ecebeb\"\r\n                    //{...props}\r\n                >\r\n                    <rect x=\"0\" y=\"0\" rx=\"10\" ry=\"10\" width=\"150\" height=\"155\" />\r\n                    <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"150\" height=\"15\" />\r\n                    <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n                    <rect x=\"118\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n                    <rect x=\"0\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n                </ContentLoader> : <>\r\n                    {onFavorite && (\r\n                        <div className={styles.favorite} onClick={onClickFavorite}>\r\n                        <img src={isFavorite ? 'img/liked.svg' : 'img/unliked.svg'} />\r\n                    </div>\r\n                    )}\r\n                    <img width=\"100%\" height={135} src={imageUrl} alt=\"Sneakers\" />\r\n                    <h5>{title}</h5>\r\n                    <div className=\"d-flex justify-between align-center\">\r\n                        <div className=\"d-flex flex-column\">\r\n                            <span>Цена:</span>\r\n                            <b>{price} руб.</b>\r\n                        </div>\r\n                        { onPlus && (\r\n                            <img\r\n                            className={styles.plus}\r\n                            onClick={onClickPlus}\r\n                            src={isItemAdded(id) ? 'img/btn-checked.svg' : 'img/btn-plus.svg'}\r\n                            alt=\"Plus\"\r\n                        />\r\n                        )}\r\n                    </div>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\n\r\nfunction Home({\r\n                  items,\r\n                  searchValue,\r\n                  setSearchValue,\r\n                  onChangeSearchInput,\r\n                  onAddToFavorite,\r\n                  onAddToCart,\r\n                  isLoading,\r\n              }) {\r\n\r\n    const renderItems = () => {\r\n        const filtredItems = items.filter((item) =>\r\n            item.title.toLowerCase().includes(searchValue.toLowerCase()),\r\n            );\r\n        return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n                <Card\r\n                    key={index}\r\n                    onFavorite={(obj) => onAddToFavorite(obj)}\r\n                    onPlus={(obj) => onAddToCart(obj)}\r\n                    //added={isItemAdded(item && item.id)}\r\n                    loading={isLoading}\r\n                    {...item}\r\n                />\r\n            ));\r\n    };\r\n\r\n    return (\r\n        <div className=\"content p-40\">\r\n            <div className=\"d-flex align-center justify-between mb-40\">\r\n                <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"` : 'Все кроссовки'}</h1>\r\n                <div className=\"search-block d-flex\">\r\n                    <img src=\"img/search.svg\" alt=\"Search\"/>\r\n                    {searchValue && (\r\n                        <img\r\n                            onClick={() => setSearchValue('')}\r\n                            className=\"clear cu-p\"\r\n                            src=\"img/btn-remove.svg\"\r\n                            alt=\"Clear\"\r\n                        />\r\n                    )}\r\n                    <input onChange={onChangeSearchInput} value={searchValue} placeholder=\"Поиск...\"/>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex flex-wrap\">\r\n                {renderItems()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport Card from '../components/Card';\r\nimport AppContext from \"../context\";\r\n\r\nfunction Favorites() {\r\n     const {favorites, onAddToFavorite } = React.useContext(AppContext);\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card key={index} favorited={true} onFavorite={onAddToFavorite} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Card from '../components/Card';\r\nimport AppContext from '../context';\r\n\r\nfunction Orders() {\r\n  const { onAddToFavorite, onAddToCart } = React.useContext(AppContext);\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/orders');\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert('Ошибка при запросе заказов');\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"content p-40\">\r\n      <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n          <Card key={index} loading={isLoading} {...item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport axios from 'axios';\nimport Header from './components/Header';\nimport Drawer from './components/Drawer';\nimport AppContext from './context';\n\nimport Home from './pages/Home';\nimport Favorites from './pages/Favorites';\nimport Orders from './pages/Orders';\n\n\nfunction App() {\n    const [items, setItems] = React.useState([]);\n    const [cartItems, setCartItems] = React.useState([]);\n    const [favorites, setFavorites] = React.useState([]);\n    const [searchValue, setSearchValue] = React.useState('');\n    const [cartOpened, setCartOpened] = React.useState(false);\n    const [isLoading, setIsLoading] = React.useState(true);\n\n    React.useEffect(() => {\n        // fetch('https://60fd97bc1fa9e90017c70f0b.mockapi.io/items')\n        //     .then((res) => {\n        //         return res.json();\n        //     })\n        //     .then((json) => {\n        //         setItems(json);\n        //     }); нативный фетч пример\n        async function fetchData() {\n            try {\n                const [cartResponse, favoritesResponse, itemsResponse] = await Promise.all([\n                    axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart'),\n                    axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/favorites'),\n                    axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/items'),\n                ]);\n                //setIsLoading(true); ставить если ф-я вып > 1 раза, если 1 раз то не ставить.\n                // const cartResponse = await axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart');\n                // const favoritesResponse = await axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/favorites');\n                // const itemsResponse = await axios.get('https://60fd97bc1fa9e90017c70f0b.mockapi.io/items'); рефакторинг\n\n                setIsLoading(false);\n                setCartItems(cartResponse.data);\n                setFavorites(favoritesResponse.data);\n                setItems(itemsResponse.data);\n            } catch (error) {\n                alert('Ошибка при запросе данных');\n                console.error(error);\n            }\n        }\n        fetchData();\n    }, []);\n\n    const onAddToCart = async (obj) => {\n        try {\n            const findItem = cartItems.find((item) => Number(item.parentId) === Number(obj.id));\n            if (findItem) {\n                setCartItems((prev) => prev.filter((item) => Number(item.parentId) !== Number(obj.id)));\n                await axios.delete(`https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart/${findItem.id}`);\n            } else {\n                setCartItems((prev) => [...prev, obj]);\n                const { data } = await axios.post('https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart', obj);\n                setCartItems((prev) => prev.map(item => {\n                    if (item.parentId === data.parentId) {\n                        return {\n                            ...item,\n                            id: data.id\n                        };\n                    }\n                    return item;\n                }));\n            }\n        } catch (error) {\n            alert('Ошибка при добавлении в корзину');\n            console.error(error);\n        }\n    };\n\n    const onRemoveItem = (id) => {\n        try {\n            axios.delete(`https://60fd97bc1fa9e90017c70f0b.mockapi.io/cart/${id}`);\n            setCartItems((prev) => prev.filter((item) => Number(item.id) !== Number(id)));\n        } catch (error) {\n            alert('Ошибка при удалении из корзины');\n            console.error(error);\n        }\n    };\n\n    const onAddToFavorite = async (obj) => {\n        try {\n            if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n                axios.delete(`https://60fd97bc1fa9e90017c70f0b.mockapi.io/favorites/${obj.id}`);\n                setFavorites((prev) => prev.filter((item) => Number(item.id) !== Number(obj.id)));\n                //setFavorites((prev) => prev.filter((item) => item.id !== obj.id)); удадять сразу из фаворитов, но это не удобно\n            } else {\n                const {data} = await axios.post('https://60fd97bc1fa9e90017c70f0b.mockapi.io/favorites', obj);\n                setFavorites((prev) => [...prev, data]);\n            }\n        } catch (error) {\n            alert('Не удалось добавить в фавориты((');\n            console.error(error);\n        }\n    };\n\n    const onChangeSearchInput = (event) => {\n        setSearchValue(event.target.value);\n    };\n\n    const isItemAdded = (id) => {\n        return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n    }\n\n    return (\n        <AppContext.Provider value={{\n            items, cartItems, favorites, isItemAdded, onAddToFavorite,\n            onAddToCart, setCartOpened, setCartItems\n        }}>\n\n            <div className=\"wrapper clear\">\n                <Drawer\n                    items={cartItems}\n                    onClose={() => setCartOpened(false)}\n                    onRemove={onRemoveItem}\n                    opened={cartOpened}\n                />\n\n                <Header onClickCart={() => setCartOpened(true)}/>\n\n                <Route path=\"/\" exact>\n                    <Home\n                        items={items}\n                        cartItems={cartItems}\n                        searchValue={searchValue}\n                        setSearchValue={setSearchValue}\n                        onChangeSearchInput={onChangeSearchInput}\n                        onAddToFavorite={onAddToFavorite}\n                        onAddToCart={onAddToCart}\n                        isLoading={isLoading}\n                    />\n                </Route>\n\n                <Route path=\"/favorites\" exact>\n                    <Favorites/>\n                </Route>\n                <Route path=\"/orders\" exact>\n                    <Orders/>\n                </Route>\n            </div>\n        </AppContext.Provider>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\nimport 'macro-css';\n\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <App/>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}